"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[7],{4919(e,t,n){n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"developers/open-feature","title":"Open Feature","description":"To serve assignments to users, Prism leverages the Open Feature standard. Open feature offers a vendor-agnostic method of evaluating feature flags.","source":"@site/docs/developers/open-feature.md","sourceDirName":"developers","slug":"/developers/open-feature","permalink":"/prism/docs/developers/open-feature","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docs","previous":{"title":"Getting Started","permalink":"/prism/docs/developers/getting-started"},"next":{"title":"Admin Service","permalink":"/prism/docs/developers/admin-service"}}');var s=n(4848),a=n(8453);const i={sidebar_position:2},o="Open Feature",d={},c=[{value:"Getting Started",id:"getting-started",level:2},{value:"Usage",id:"usage",level:2},{value:"Request Configuration",id:"request-configuration",level:3},{value:"Evaluating Feature Flags",id:"evaluating-feature-flags",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"open-feature",children:"Open Feature"})}),"\n",(0,s.jsxs)(t.p,{children:["To serve assignments to users, Prism leverages the ",(0,s.jsx)(t.a,{href:"https://openfeature.dev/",children:"Open Feature"})," standard. Open feature offers a vendor-agnostic method of evaluating feature flags."]}),"\n",(0,s.jsxs)(t.p,{children:["A custom Open Feature, as seen in ",(0,s.jsx)(t.code,{children:"openfeature-provider-react/"})," manages the communication between your React application and the ",(0,s.jsx)(t.a,{href:"/prism/docs/developers/assignment-service",children:"assignment service"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,s.jsxs)(t.p,{children:["Getting started with implementing Open Feature in you react application is simple. Once you have pulled in the ",(0,s.jsx)(t.code,{children:"@openfeature/react-sdk"})," package and ",(0,s.jsx)(t.code,{children:"@prism/openfeature-provider-react"}),", Set the ",(0,s.jsx)(t.code,{children:"PrismWebProvider"})," and wrap your application with ",(0,s.jsx)(t.code,{children:"<OpenFeatureProvider> </OpenFeatureProvider>"}),", as seen below:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-tsx",children:'import { OpenFeature, OpenFeatureProvider } from "@openfeature/react-sdk";\nimport "./App.css";\nimport YourComponent from "./components/YourComponent";\nimport { PrismWebProvider } from "@prism/openfeature-provider-react";\n\nOpenFeature.setContext({\n  targetingKey: "21",\n});\nOpenFeature.setProvider(new PrismWebProvider("http://localhost:8082", {}));\n\nfunction App() {\n  return (\n    <OpenFeatureProvider>\n      <YourComponent />\n    </OpenFeatureProvider>\n  );\n}\n\nexport default App;\n'})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Important"}),": in the above example the ",(0,s.jsx)(t.code,{children:"targetingKey"}),' is set to "21" as a placeholder. In a production environment it is vital that this key is set dynamically to the users unique identifier. This determines the variants that the user will encounter throughout the application.']}),"\n",(0,s.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(t.h3,{id:"request-configuration",children:"Request Configuration"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"PrismWebProvider"})," makes a request to the ",(0,s.jsx)(t.a,{href:"/prism/docs/developers/assignment-service",children:"assignment service"})," to the assigned variants given the ",(0,s.jsx)(t.code,{children:"targetingKey"})," provided in the Open Feature context."]}),"\n",(0,s.jsxs)(t.p,{children:["If you are following the expected prism setup, your backend will be acting as a proxy between your frontend and the assignment service. This means that the PrismWebProvider needs to be configured to point to the address of your proxying backend service, as well as allowing the request to be configured with any necessary headers. This can be achieved by passing the url and a ",(0,s.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/RequestInit",children:"Request Init Object"})," to the ",(0,s.jsx)(t.code,{children:"PrismWebProvider"})," constructor, as seen below:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-tsx",children:'OpenFeature.setProvider(\n  new PrismWebProvider("https://api.mybackendservice.com", {\n    headers: {\n      Authorization: "Bearer YOUR_TOKEN_HERE",\n    },\n  }),\n);\n'})}),"\n",(0,s.jsx)(t.h2,{id:"evaluating-feature-flags",children:"Evaluating Feature Flags"}),"\n",(0,s.jsxs)(t.p,{children:["See the ",(0,s.jsx)(t.a,{href:"https://openfeature.dev/docs/reference/sdks/client/web/react/",children:"Open Feature React SDK documentation"})," for a walkthrough on the various ways Open Feature can be used to evaluate feature flags. Alternatively review the powell motors example site available at: ",(0,s.jsx)(t.code,{children:"examples/powell-motors/powell-motors-website"})]})]})}function p(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453(e,t,n){n.d(t,{R:()=>i,x:()=>o});var r=n(6540);const s={},a=r.createContext(s);function i(e){const t=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(a.Provider,{value:t},e.children)}}}]);